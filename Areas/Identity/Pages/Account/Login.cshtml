@page
@model LoginModel

@{
    ViewData["Title"] = "Log in";
    Layout = null; // We use Layout = null because the auth page is full-screen, not wrapped in the _Layout.
}


<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/auth.css" asp-append-version="true" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />


<div class="auth-container">
    <div class="auth-form-container">
        <div class="auth-form-wrapper">

            @* Update the logo/brand for your Online Library *@
            <div class="logo"><i class="fas fa-book-reader"></i> Online Library</div>
            <h1>Sign in to your account</h1>
            <p class="auth-subtitle">
                New to the library? <a asp-page="./Register" asp-route-returnUrl="@Model.ReturnUrl" class="auth-link">Create an account</a>
            </p>

            <form id="account" method="post" class="auth-form">

                @* **NOTE:** We are skipping the social login buttons for now, 
                   as that requires Firebase/external provider configuration. 
                   We focus on Email/Password first. *@

                <div class="divider"><span>or</span></div>

                <div asp-validation-summary="ModelOnly" class="text-danger" role="alert"></div>

                <div class="form-group">
                    <label asp-for="Input.Email">Email Address</label>
                    <div class="input-with-icon">
                        <i class="fas fa-envelope"></i>
                        <input asp-for="Input.Email" placeholder="you@example.com" class="form-control" autocomplete="username" aria-required="true" />
                    </div>
                    <span asp-validation-for="Input.Email" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Input.Password">Password</label>
                    <div class="input-with-icon">
                        <i class="fas fa-lock"></i>
                        <input asp-for="Input.Password" placeholder="Enter your password" class="form-control" autocomplete="current-password" aria-required="true" />
                        @* Optional: You can re-add the toggle-password button if you implement the JS *@
                    </div>
                    <span asp-validation-for="Input.Password" class="text-danger"></span>
                </div>

                <div class="form-options">
                    <div class="checkbox-group">
                        <input class="form-check-input" asp-for="Input.RememberMe" />
                        <label asp-for="Input.RememberMe" class="form-check-label">
                            @Html.DisplayNameFor(m => m.Input.RememberMe)
                        </label>
                    </div>
                    <a id="forgot-password" asp-page="./ForgotPassword" class="auth-link">Forgot password?</a>
                </div>

                <button id="login-submit" type="submit" class="auth-btn">Sign In</button>

            </form>

            @* Optional: External logins if you need them later *@
            @if (Model.ExternalLogins?.Count > 0)
            {
                <partial name="_ExternalLogins" model="Model.ExternalLogins" />
            }

        </div>

        <footer class="auth-footer">
            <p>© @DateTime.Now.Year Online Library. All rights reserved.</p>
        </footer>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}