@{
    // Retrieve data passed from the CatalogController.Read action
    ViewData["Title"] = ViewData["Title"] ?? "Read Digital Book";
    string bookTitle = ViewData["BookTitle"] as string ?? "Unknown Title";
    string authorName = ViewData["AuthorName"] as string ?? "Unknown Author";
    string description = ViewData["Description"] as string ?? "No summary available.";
    string coverImageUrl = ViewData["CoverImageUrl"] as string;
}

<div class="container" style="padding-top: 50px">

    <div class="alert alert-info text-center" role="alert">
        <i class="fas fa-exclamation-triangle me-2"></i> Access granted for 14 days. This is the simulated reading environment.
    </div>

    <div class="row justify-content-center">

        @* Column 1: Book Info and Cover *@
        <div class="col-lg-4 text-center mb-4">
            @if (!string.IsNullOrEmpty(coverImageUrl))
            {
                <img src="@coverImageUrl" alt="Cover" class="img-fluid shadow-lg rounded-3" style="max-height: 400px; width: 100%; object-fit: cover;" />
            }
            <h4 class="mt-3 text-primary">@bookTitle</h4>
            <p class="text-muted small">by @authorName</p>

            <a asp-controller="Loan" asp-action="MyLoans" class="btn btn-sm btn-secondary mt-2">
                <i class="fas fa-list-check me-1"></i> View My Active Loans
            </a>
        </div>

        @* Column 2: Digital Content Reader Simulation *@
        <div class="col-lg-8">
            <div class="card p-4 shadow-lg h-100">
                <div class="card-header bg-light">
                    <h5 class="mb-0 text-muted">Chapter 1: The Beginning of the Journey</h5>
                </div>
                <div class="card-body">
                    <p class="text-muted small">
                        *Note: In a live system, a PDF reader, embedded HTML content, or API calls to a book rendering engine would be integrated here.*
                    </p>
                    <p class="lead">
                        The silence in the library was not empty; it was a vast, potential space, ready to be filled by the stories held captive within the spines of a thousand waiting books.
                    </p>
                    <p>
                        Every patron who logged in held the key to a new universe, and today, that universe belonged to the one with the freshest digital loan. The screen flickered to life, showing the title page, confirming the access granted by the administrator.
                    </p>

                    <blockquote class="blockquote mt-4 border-start ps-3">
                        <p class="mb-0">The adventure starts now. Happy reading.</p>
                        <footer class="blockquote-footer mt-1">Library Admin</footer>
                    </blockquote>

                </div>
                <div class="card-footer text-end">
                    <button class="btn btn-primary" disabled>Next Page &raquo;</button>
                </div>
            </div>
        </div>
    </div>
</div>